{"version":3,"sources":["../node_modules/monaco-editor/esm/vs/language/css/workerManager.js","../node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-languageserver-types/main.js","../node_modules/monaco-editor/esm/vs/language/css/languageFeatures.js","../node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"names":["Promise","monaco","STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","Date","now","_getClient","editor","createWebWorker","languageId","diagnosticsOptions","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","toShallowCancelPromise","then","client","_","withSyncedResources","p","completeCallback","errorCallback","r","c","e","Position","create","line","character","is","value","candidate","Is","defined","number","Range","one","two","three","four","start","end","Error","Location","uri","range","string","undefined","DiagnosticSeverity","Warning","Information","Hint","Diagnostic","message","severity","code","source","result","Command","title","command","args","TextEdit","replace","newText","insert","position","del","TextDocumentEdit","textDocument","edits","VersionedTextDocumentIdentifier","Array","isArray","TextEditChangeImpl","push","delete","add","edit","all","clear","splice","WorkspaceChange","workspaceEdit","_textEditChanges","Object","_workspaceEdit","documentChanges","forEach","textDocumentEdit","textEditChange","changes","keys","key","defineProperty","getTextEditChange","TextDocumentIdentifier","version","TextDocumentItem","text","MarkupKind","PlainText","Markdown","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","Folder","EnumMember","Constant","Struct","Event","Operator","TypeParameter","InsertTextFormat","CompletionItem","label","CompletionList","items","isIncomplete","MarkedString","fromPlainText","plainText","ParameterInformation","documentation","SignatureInformation","parameters","DocumentHighlightKind","Read","Write","DocumentHighlight","kind","SymbolKind","Namespace","Package","String","Number","Boolean","Key","Null","SymbolInformation","name","containerName","CodeActionContext","diagnostics","typedArray","CodeLens","data","FormattingOptions","tabSize","insertSpaces","boolean","DocumentLink","target","EOL","TextDocument","content","FullTextDocument","lineCount","func","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","mergeSort","compare","left","slice","right","leftIdx","rightIdx","i","ret","a","b","diff","lastModifiedOffset","startOffset","endOffset","substring","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","_uri","_languageId","_version","_content","_lineOffsets","update","event","getLineOffsets","lineOffsets","isLineStart","ch","charAt","offset","Math","max","min","low","high","mid","floor","lineOffset","nextLineOffset","toString","call","check","every","ls","Uri","DiagnosticsAdapter","_disposables","_listener","onModelAdd","model","modeId","handle","getModeId","onDidChangeContent","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","getModels","d","resource","worker","doValidation","markers","map","toDiagnostics","getModel","done","err","error","toSeverity","lsSeverity","MarkerSeverity","Info","diag","fromPosition","column","lineNumber","fromRange","startLineNumber","startColumn","endLineNumber","endColumn","toRange","toCompletionItemKind","mItemKind","languages","toTextEdit","textEdit","CompletionAdapter","provideCompletionItems","token","getWordUntilPosition","wordInfo","wireCancellationToken","doComplete","info","entry","item","insertText","sortText","filterText","detail","additionalTextEdits","insertTextFormat","isMarkupContent","thing","toMarkdownString","language","toMarkedStringArray","contents","HoverAdapter","provideHover","doHover","toDocumentHighlightKind","DocumentHighlightAdapter","provideDocumentHighlights","findDocumentHighlights","entries","toLocation","location","parse","DefinitionAdapter","provideDefinition","findDefinition","definition","ReferenceAdapter","provideReferences","context","findReferences","toWorkspaceEdit","resourceEdits","_a","RenameAdapter","provideRenameEdits","newName","doRename","toSymbolKind","mKind","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","presentations","presentation","promise","onCancellationRequested","cancel","setupMode","languageFeatures","first","more","apply","concat","registerCompletionItemProvider","registerHoverProvider","registerDocumentHighlightProvider","registerDefinitionProvider","registerReferenceProvider","registerDocumentSymbolProvider","registerRenameProvider","registerColorProvider"],"mappings":"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","file":"cssMode.5a7238d6.map","sourceRoot":"../demo","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `CSSWorker` instance\n                moduleId: 'vs/language/css/cssWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.diagnosticsOptions,\n                    languageId: this._defaults.languageId\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return toShallowCancelPromise(this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; }));\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\nfunction toShallowCancelPromise(p) {\n    var completeCallback;\n    var errorCallback;\n    var r = new Promise(function (c, e) {\n        completeCallback = c;\n        errorCallback = e;\n    }, function () { });\n    p.then(completeCallback, errorCallback);\n    return r;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The diagnostic's serverity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.title);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n})(TextEdit || (TextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits) {\n        this.edits = edits;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\n        this.edits.push(TextEdit.insert(position, newText));\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\n        this.edits.push(TextEdit.replace(range, newText));\n    };\n    TextEditChangeImpl.prototype.delete = function (range) {\n        this.edits.push(TextEdit.del(range));\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                workspaceEdit.documentChanges.forEach(function (textDocumentEdit) {\n                    var textEditChange = new TextEditChangeImpl(textDocumentEdit.edits);\n                    _this._textEditChanges[textDocumentEdit.textDocument.uri] = textEditChange;\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            return this._workspaceEdit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (VersionedTextDocumentIdentifier.is(key)) {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    documentChanges: []\n                };\n            }\n            if (!this._workspaceEdit.documentChanges) {\n                throw new Error('Workspace edit is not configured for versioned document changes.');\n            }\n            var textDocument = key;\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            if (!this._workspaceEdit) {\n                this._workspaceEdit = {\n                    changes: Object.create(null)\n                };\n            }\n            if (!this._workspaceEdit.changes) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.number(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n})(MarkedString || (MarkedString = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n    ;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrance.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containg the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics) {\n        return { diagnostics: diagnostics };\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data))\n            result.data = data;\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * A document link is a range in a text document that links to an internal or external resource, like another\n * text document or a web site.\n */\nvar DocumentLink = /** @class */ (function () {\n    function DocumentLink() {\n    }\n    return DocumentLink;\n}());\nexport { DocumentLink };\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target) {\n        return { range: range, target: target };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return 0;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Ovelapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nexport var TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (TextDocumentSaveReason = {}));\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = null;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = null;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === null) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as ls from './_deps/vscode-languageserver-types/main.js';\nvar Uri = monaco.Uri;\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getModeId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        defaults.onDidChange(function (_) {\n            monaco.editor.getModels().forEach(function (model) {\n                if (model.getModeId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        });\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        monaco.editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource).then(function (worker) {\n            return worker.doValidation(resource.toString());\n        }).then(function (diagnostics) {\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n            var model = monaco.editor.getModel(resource);\n            if (model.getModeId() === languageId) {\n                monaco.editor.setModelMarkers(model, languageId, markers);\n            }\n        }).done(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case ls.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\n        case ls.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\n        case ls.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\n        case ls.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\n        default:\n            return monaco.MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return { start: { line: range.startLineNumber - 1, character: range.startColumn - 1 }, end: { line: range.endLineNumber - 1, character: range.endColumn - 1 } };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new monaco.Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case ls.CompletionItemKind.Text: return mItemKind.Text;\n        case ls.CompletionItemKind.Method: return mItemKind.Method;\n        case ls.CompletionItemKind.Function: return mItemKind.Function;\n        case ls.CompletionItemKind.Constructor: return mItemKind.Constructor;\n        case ls.CompletionItemKind.Field: return mItemKind.Field;\n        case ls.CompletionItemKind.Variable: return mItemKind.Variable;\n        case ls.CompletionItemKind.Class: return mItemKind.Class;\n        case ls.CompletionItemKind.Interface: return mItemKind.Interface;\n        case ls.CompletionItemKind.Module: return mItemKind.Module;\n        case ls.CompletionItemKind.Property: return mItemKind.Property;\n        case ls.CompletionItemKind.Unit: return mItemKind.Unit;\n        case ls.CompletionItemKind.Value: return mItemKind.Value;\n        case ls.CompletionItemKind.Enum: return mItemKind.Enum;\n        case ls.CompletionItemKind.Keyword: return mItemKind.Keyword;\n        case ls.CompletionItemKind.Snippet: return mItemKind.Snippet;\n        case ls.CompletionItemKind.Color: return mItemKind.Color;\n        case ls.CompletionItemKind.File: return mItemKind.File;\n        case ls.CompletionItemKind.Reference: return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', ':'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    kind: toCompletionItemKind(entry.kind),\n                };\n                if (entry.textEdit) {\n                    item.range = toRange(entry.textEdit.range);\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.additionalTextEdits) {\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\n                }\n                if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                    item.insertText = { value: item.insertText };\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                items: items\n            };\n        }));\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        }));\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- document highlights ------\nfunction toDocumentHighlightKind(kind) {\n    switch (kind) {\n        case ls.DocumentHighlightKind.Read: return monaco.languages.DocumentHighlightKind.Read;\n        case ls.DocumentHighlightKind.Write: return monaco.languages.DocumentHighlightKind.Write;\n        case ls.DocumentHighlightKind.Text: return monaco.languages.DocumentHighlightKind.Text;\n    }\n    return monaco.languages.DocumentHighlightKind.Text;\n}\nvar DocumentHighlightAdapter = /** @class */ (function () {\n    function DocumentHighlightAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.findDocumentHighlights(resource.toString(), fromPosition(position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: toRange(entry.range),\n                    kind: toDocumentHighlightKind(entry.kind)\n                };\n            });\n        }));\n    };\n    return DocumentHighlightAdapter;\n}());\nexport { DocumentHighlightAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\nvar DefinitionAdapter = /** @class */ (function () {\n    function DefinitionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.findDefinition(resource.toString(), fromPosition(position));\n        }).then(function (definition) {\n            if (!definition) {\n                return;\n            }\n            return [toLocation(definition)];\n        }));\n    };\n    return DefinitionAdapter;\n}());\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function () {\n    function ReferenceAdapter(_worker) {\n        this._worker = _worker;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.findReferences(resource.toString(), fromPosition(position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(toLocation);\n        }));\n    };\n    return ReferenceAdapter;\n}());\nexport { ReferenceAdapter };\n// --- rename ------\nfunction toWorkspaceEdit(edit) {\n    if (!edit || !edit.changes) {\n        return void 0;\n    }\n    var resourceEdits = [];\n    for (var uri in edit.changes) {\n        var edits = [];\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\n            var e = _a[_i];\n            edits.push({\n                range: toRange(e.range),\n                text: e.newText\n            });\n        }\n        resourceEdits.push({ resource: Uri.parse(uri), edits: edits });\n    }\n    return {\n        edits: resourceEdits\n    };\n}\nvar RenameAdapter = /** @class */ (function () {\n    function RenameAdapter(_worker) {\n        this._worker = _worker;\n    }\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\n        }).then(function (edit) {\n            return toWorkspaceEdit(edit);\n        }));\n    };\n    return RenameAdapter;\n}());\nexport { RenameAdapter };\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = monaco.languages.SymbolKind;\n    switch (kind) {\n        case ls.SymbolKind.File: return mKind.Array;\n        case ls.SymbolKind.Module: return mKind.Module;\n        case ls.SymbolKind.Namespace: return mKind.Namespace;\n        case ls.SymbolKind.Package: return mKind.Package;\n        case ls.SymbolKind.Class: return mKind.Class;\n        case ls.SymbolKind.Method: return mKind.Method;\n        case ls.SymbolKind.Property: return mKind.Property;\n        case ls.SymbolKind.Field: return mKind.Field;\n        case ls.SymbolKind.Constructor: return mKind.Constructor;\n        case ls.SymbolKind.Enum: return mKind.Enum;\n        case ls.SymbolKind.Interface: return mKind.Interface;\n        case ls.SymbolKind.Function: return mKind.Function;\n        case ls.SymbolKind.Variable: return mKind.Variable;\n        case ls.SymbolKind.Constant: return mKind.Constant;\n        case ls.SymbolKind.String: return mKind.String;\n        case ls.SymbolKind.Number: return mKind.Number;\n        case ls.SymbolKind.Boolean: return mKind.Boolean;\n        case ls.SymbolKind.Array: return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                location: toLocation(item.location)\n            }); });\n        }));\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentColors(resource.toString()); }).then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        }));\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range)); }).then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label,\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        }));\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\n/**\n * Hook a cancellation token to a WinJS Promise\n */\nfunction wireCancellationToken(token, promise) {\n    token.onCancellationRequested(function () { return promise.cancel(); });\n    return promise;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nexport function setupMode(defaults) {\n    var client = new WorkerManager(defaults);\n    var worker = function (first) {\n        var more = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            more[_i - 1] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, [first].concat(more));\n    };\n    var languageId = defaults.languageId;\n    monaco.languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker));\n    monaco.languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker));\n    monaco.languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker));\n    monaco.languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker));\n    monaco.languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker));\n    monaco.languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker));\n    monaco.languages.registerRenameProvider(languageId, new languageFeatures.RenameAdapter(worker));\n    monaco.languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker));\n    new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults);\n}\n"]}